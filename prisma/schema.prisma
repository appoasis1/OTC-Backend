
generator client  {
  provider = "prisma-client-js"
}

generator erd {
  provider = "prisma-erd-generator"
}

datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}
model User {
  id                String         @id @default(cuid())
  email              String         @unique
  username           String         @unique
  name               String?
  title              String?      
  surname            String?
  phone              String?        @unique
  age                Int?
  password           String
  salt               String
  current_logged_in_at   DateTime
  last_logged_in_at      DateTime
  created_at          DateTime       @default(now())
  updated_at          DateTime @updatedAt

}


model Currency {
  id                String         @id @default(cuid())
  name    String?
  fraction    String?
  symbol   String?
}

model Series {
  id                String         @id @default(cuid())
  naming_series    String?  
}

model Cost {
  id                String         @id @default(cuid())
  name    String?
  cost_center_name String?
  parent_cost_center String?   
}

model Invoice {
  id                String         @id @default(cuid())
  name              String?
  number            String?
  cost_center      String?
  series           String?
  currency         String?
  date              DateTime?
  customer          Customer       @relation(fields: [customerId], references: [id])
  customerId        String
  bank              Bank           @relation(fields: [bankId], references: [id])
  bankId            String
  items             Item[]         @relation("InvoiceItem")
}

model Customer {
  id                String         @id @default(cuid())
  name              String?
  customer_name     String?
  email_id          String?
  default_price_list String?
  default_currency  String?
  customer_primary_contact String?
  invoices          Invoice[]     // One-to-Many relationship with Invoice
}

model Bank {
  id                String         @id @default(cuid())
  account_name      String?
  bank              String?
  account_type      String?
  bank_account_no   String?
  invoices          Invoice[]     // One-to-Many relationship with Invoice
}

model Item {
  id                String         @id @default(cuid())
  item_code         String?
  item_name         String?
  item_group        String?
  stock_uom         String?
  description       String?
  invoices          Invoice[]     @relation("InvoiceItem") // Many-to-One relationship with Invoice
}